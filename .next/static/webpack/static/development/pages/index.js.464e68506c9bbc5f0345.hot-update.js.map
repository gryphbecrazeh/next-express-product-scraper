{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.464e68506c9bbc5f0345.hot-update.js","sources":["webpack:///./components/Scraper.jsx"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n\tButton,\r\n\tInputGroup,\r\n\tInput,\r\n\tForm,\r\n\tFormGroup,\r\n\tInputGroupAddon\r\n} from \"reactstrap\";\r\nimport axios from \"axios\";\r\n\r\nclass Scraper extends Component {\r\n\tstate = {\r\n\t\turl: \"\",\r\n\t\tproduct: {}\r\n\t};\r\n\tscrape = e => {\r\n\t\te.preventDefault();\r\n\t\taxios.post(\"/fetch\", { target: this.state.url }).then(res => {\r\n\t\t\tlet el = document.createElement(\"html\");\r\n\t\t\tel.innerHTML = res.data.response;\r\n\t\t\tlet body = el.querySelector(\"body\");\r\n\t\t\tlet overview = body.querySelector(\"div.widget-detail-overview\");\r\n\t\t\tlet details = Array.from(overview.querySelectorAll(\"dl\"));\r\n\t\t\tlet product = {};\r\n\t\t\tif (details) {\r\n\t\t\t\tdetails.forEach(detail => {\r\n\t\t\t\t\tlet key = detail\r\n\t\t\t\t\t\t.querySelector(\"dt\")\r\n\t\t\t\t\t\t.innerText.match(new RegExp(/[\\w \\d]+/), \"gmi\")\r\n\t\t\t\t\t\t.toString()\r\n\t\t\t\t\t\t.replace(/ +/gim, \" \")\r\n\t\t\t\t\t\t.replace(/^ /gim, \"\");\r\n\t\t\t\t\tlet val = detail\r\n\t\t\t\t\t\t.querySelector(\"dd\")\r\n\t\t\t\t\t\t.innerText.match(new RegExp(/[\\w \\d]+/), \"gmi\")\r\n\t\t\t\t\t\t.toString()\r\n\t\t\t\t\t\t.replace(/ +/gim, \" \")\r\n\t\t\t\t\t\t.replace(/^ /gim, \"\");\r\n\r\n\t\t\t\t\tproduct[key] = val;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tproduct.title = body.querySelector(\"h1.ma-title\").innerText;\r\n\t\t\t// this.setState({ product: product }, () => console.log(this.state));\r\n\t\t\tconsole.log(product);\r\n\t\t});\r\n\t};\r\n\tonChange = e => {\r\n\t\tthis.setState({ [e.target.name]: e.target.value });\r\n\t};\r\n\r\n\trender() {\r\n\t\tlet { title } = this.state.product;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Form>\r\n\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter web address here...\"\r\n\t\t\t\t\t\t\t\tname=\"url\"\r\n\t\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\t></Input>\r\n\t\t\t\t\t\t\t<InputGroupAddon addonType=\"append\">\r\n\t\t\t\t\t\t\t\t<Button type=\"button\" onClick={this.scrape}>\r\n\t\t\t\t\t\t\t\t\tTest\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</InputGroupAddon>\r\n\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t</Form>\r\n\t\t\t\t<div>{title ? title : \"\"}</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nexport default Scraper;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAQA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAFA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAMA;AAOA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;;;;;AACA;AAAA;AAEA;AAMA;AACA;AACA;AACA;AAJA;AAMA;AAAA;AACA;AAAA;AAAA;AAUA;;;;AAjEA;AACA;AAkEA;;;;A","sourceRoot":""}